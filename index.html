<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Macadamia Accesorios</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .logo {
      max-height: 150px;
      cursor: pointer;
    }
    #adminPanel, #productForm {
      display: none;
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      padding: 2em;
      z-index: 9999;
    }
    #modal {
      background: rgba(0,0,0,0.85);
    }
    .modal-content {
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
      position: relative;
    }
    .modal-close {
      position: absolute;
      top: 10px;
      right: 10px;
    }
    input[type="file"], input, textarea, select {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 0.5em;
      border-radius: 8px;
    }
    button {
      padding: 0.5em 1em;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <header>
    <img src="assets/LOGO TRANSPARENTE.png" alt="Macadamia Logo" class="logo" id="adminLogo" />
    <nav>
      <ul>
        <li><a href="#inicio">Inicio</a></li>
        <li><a href="#catalogo">Catálogos</a></li>
        <li><a href="#contacto">Contacto</a></li>
      </ul>
    </nav>
  </header>

  <section id="inicio" class="hero">
    <h1>Bienvenidos a Macadamia Accesorios</h1>
    <p>Joyas y detalles que brillan contigo.</p>
    <div class="categorias">
      <button class="categoria-btn" data-categoria="accesorios">Accesorios</button>
      <button class="categoria-btn" data-categoria="detalles">Detalles con Chocolate</button>
      <button class="categoria-btn" data-categoria="ramos">Ramos Bouquet</button>
      <button class="categoria-btn" data-categoria="cuadros">Cuadros Personalizados</button>
      <button class="categoria-btn" data-categoria="juguetes">Juguetes para Adultos</button>
    </div>
  </section>

  <section id="catalogo" class="catalogo">
    <div class="contenedor">
      <h2>Catálogo de Productos</h2>
      <div id="productos"></div>
    </div>
  </section>

  <section id="contacto" class="contacto">
    <h2>Contáctanos</h2>
    <p>WhatsApp: 3174715623 / 3182142910</p>
    <div class="social-icons">
      <a href="https://www.instagram.com/macadamiaaccesories?igsh=MXJlN200d2Z2Zzl0bw==" target="_blank"><img src="assets/icons8-instagram-100.png" height="40"></a>
      <a href="https://www.facebook.com/share/1BTVsacamg/" target="_blank"><img src="assets/icons8-facebook-f-100.png" height="40"></a>
      <a href="https://tiktok.com/@accesorios_popayan" target="_blank"><img src="assets/icons8-tik-tok-64.png" height="40"></a>
      <a href="https://wa.me/573174715623" target="_blank"><img src="assets/icons8-whatsapp-business-64.png" height="40"></a>
    </div>
  </section>

  <div id="modal" class="modal">
    <div class="modal-content">
      <button class="modal-close">X</button>
      <img src="" alt="Producto" id="modal-img">
      <p id="modal-info"></p>
    </div>
  </div>

  <div id="adminPanel">
    <form id="productForm">
      <h3>Agregar Producto</h3>
      <input type="file" id="imagen" accept="image/*" required />
      <input type="text" id="referencia" placeholder="Referencia" required />
      <input type="text" id="nombre" placeholder="Nombre del producto" required />
      <input type="number" id="precio" placeholder="Precio" required />
      <select id="categoria" required>
        <option value="">Categoría</option>
        <option value="accesorios">Accesorios</option>
        <option value="detalles">Detalles con Chocolate</option>
        <option value="ramos">Ramos Bouquet</option>
        <option value="cuadros">Cuadros Personalizados</option>
        <option value="juguetes">Juguetes para Adultos</option>
      </select>
      <button type="submit">Agregar</button>
    </form>
  </div>

  <script>
    const adminLogo = document.getElementById('adminLogo');
    adminLogo.addEventListener('click', () => {
      const clave = prompt('Ingrese la contraseña para acceder:');
      if (clave === 'admin123') {
        document.getElementById('adminPanel').style.display = 'block';
      } else {
        alert('Contraseña incorrecta');
      }
    });

    document.getElementById('productForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const file = document.getElementById('imagen').files[0];
      const reader = new FileReader();
      reader.onload = function() {
        const producto = {
          img: reader.result,
          ref: document.getElementById('referencia').value,
          nombre: document.getElementById('nombre').value,
          precio: document.getElementById('precio').value,
          categoria: document.getElementById('categoria').value
        };
        let productos = JSON.parse(localStorage.getItem('productos') || '[]');
        productos.push(producto);
        localStorage.setItem('productos', JSON.stringify(productos));
        mostrarProductos();
        document.getElementById('productForm').reset();
        alert('Producto agregado');
      }
      reader.readAsDataURL(file);
    });

    function mostrarProductos() {
      const contenedor = document.getElementById('productos');
      contenedor.innerHTML = '';
      const productos = JSON.parse(localStorage.getItem('productos') || '[]');
      const categorias = {};
      productos.forEach(p => {
        if (!categorias[p.categoria]) categorias[p.categoria] = [];
        categorias[p.categoria].push(p);
      });
      for (let cat in categorias) {
        const div = document.createElement('div');
        div.innerHTML = `<h3>${cat.toUpperCase()}</h3>`;
        div.className = 'galeria';
        categorias[cat].forEach(p => {
          div.innerHTML += `
            <div class="producto">
              <img src="${p.img}" alt="${p.ref}" />
              <p>Ref: ${p.ref}<br>${p.nombre} - $${p.precio}</p>
              <a href="https://wa.me/573174715623?text=${encodeURIComponent(`Hola, quiero este producto: ${p.nombre} Ref: ${p.ref}`)}" target="_blank">Comprar por WhatsApp</a>
            </div>`;
        });
        contenedor.appendChild(div);
      }
      document.querySelectorAll('.producto img').forEach(img => {
        img.addEventListener('click', () => {
          document.getElementById('modal-img').src = img.src;
          document.getElementById('modal-info').innerText = img.alt;
          document.getElementById('modal').style.display = 'flex';
        });
      });
    }

    document.querySelector('.modal-close').addEventListener('click', () => {
      document.getElementById('modal').style.display = 'none';
    });

    mostrarProductos();
  </script>
</body>
</html>
